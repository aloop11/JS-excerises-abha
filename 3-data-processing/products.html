<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Products</title>
    <style>
        .product {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            max-width: 400px;
        }
        .product img {
            width: 100%;
            height: auto;
            margin-bottom: 10px;
        }
        .product p {
            margin: 5px 0;
        }
        .price {
            font-weight: bold;
            color: #2a6496;
        }
    </style>
</head>
<body>

    <h1>Products</h1>
    <a href="../index.html">Home</a>

    <h2>Part 1</h2>
    <p>
        Write JavaScript code to process the provided <code>products</code> variable to answer the questions below.
        Log each of the answers to the console.

        <ol type="A">
            <li>Display the total number of products (i.e. 3).</li>
            <li>Loop through each product and display their name and price, each on a new line.</li>
            <li>Use a filter operation to arrive at an array containing just the products that have a price less than $50, and store them in a new variable called <code>matchingProducts</code>.</li>
            <li>Display the total number of matching products from Question C (i.e. 2).</li>
        </ol>
    </p>

    <hr>
    <h2>Part 2</h2>
    <p>
        Write JavaScript to programmatically populate the provided <code>div</code> element with information about each product.
        Specifically, the top-level <code>div</code> should contain a new child <code>div</code> element for each product (i.e. the product-specific <code>div</code>).
        Each product-specific <code>div</code> element should contain separate <code>p</code> tags to display the product's name, description, and price, respectively;
        as well as an <code>img</code> tag to display the image of that product;
        and finally a <code>hr</code> element to produce a horizontal line separator between each of the products.
    </p>

    <div id="display-products"></div>

    <script type="text/javascript">
        // Took help from ChatGPT
        var products = [
            {
                "name": "Textbook",
                "description": "It has all the answers.",
                "price": 129.99,
                "imageURL": "https://picsum.photos/id/24/360/200"
            },
            {
                "name": "Cup of Tea",
                "description": "An individually-prepared tea or coffee of choice.",
                "price": 3.49,
                "imageURL": "https://picsum.photos/id/225/360/200"
            },
            {
                "name": "Strawberries",
                "description": "Juicy organic strawberries.",
                "price": 4.99,
                "imageURL": "https://picsum.photos/id/1080/360/200"
            }
        ]

        console.log("---------------------")
        console.log("PART 1...")
        
        // A. Total number of products
        console.log("A. Total number of products:", products.length);
        
        // B. Display each product's name and price
        console.log("B. Product list:");
        products.forEach(product => {
            console.log(`${product.name}: $${product.price.toFixed(2)}`);
        });
        
        // C. Filter products with price < $50
        const matchingProducts = products.filter(product => product.price < 50);
        console.log("C. Matching products (price < $50):", matchingProducts);
        
        // D. Number of matching products
        console.log("D. Number of matching products:", matchingProducts.length);

        console.log("---------------------")
        console.log("PART 2...")
        
        // Populate the products display
        const productsContainer = document.getElementById('display-products');
        
        products.forEach((product, index) => {
            // Create product container div
            const productDiv = document.createElement('div');
            productDiv.className = 'product';
            
            // Add product image
            const img = document.createElement('img');
            img.src = product.imageURL;
            img.alt = product.name;
            productDiv.appendChild(img);
            
            // Add product name
            const namePara = document.createElement('p');
            namePara.textContent = product.name;
            namePara.style.fontWeight = 'bold';
            productDiv.appendChild(namePara);
            
            // Add product description
            const descPara = document.createElement('p');
            descPara.textContent = product.description;
            productDiv.appendChild(descPara);
            
            // Add product price
            const pricePara = document.createElement('p');
            pricePara.className = 'price';
            pricePara.textContent = `$${product.price.toFixed(2)}`;
            productDiv.appendChild(pricePara);
            
            // Add to container
            productsContainer.appendChild(productDiv);
            
            // Add horizontal rule (except after last product)
            if (index < products.length - 1) {
                const hr = document.createElement('hr');
                productsContainer.appendChild(hr);
            }
        });
    </script>
</body>
</html>